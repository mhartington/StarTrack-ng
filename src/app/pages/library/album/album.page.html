<ion-header translucent="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/library/albums"></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content fullscreen="true">
  @if(collection(); as collection){
  <preview-header
    [collection]="collection"
    (playCollection)="playAlbum($event)"
  ></preview-header>
  <ion-list>
    @for(song of collection.relationships.tracks.data; let i = $index; track
    song.id){
    <song-item [song]="song" [index]="i" (click)="playSong(i)">
      @if(collection.type === 'playlists'){
      <ion-thumbnail slot="start">
        <lazy-img
          [src]="song.attributes.artwork.url | formatArtworkUrl: 60"
          alt=""
        ></lazy-img>
      </ion-thumbnail>

      }
    </song-item>
    }
  </ion-list>
  } @else{

  <preview-header></preview-header>
  <ion-list>
    @for(filler of [].constructor(10); track filler){
    <ion-item>
      <ion-label>
        <ion-skeleton-text animated style="width: 88%"></ion-skeleton-text>
        <ion-skeleton-text animated style="width: 70%"></ion-skeleton-text>
      </ion-label>
    </ion-item>
    }
  </ion-list>
  }
</ion-content>
